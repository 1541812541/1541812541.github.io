<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>人脸识别</title>
      <link href="blog/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"/>
      <url>blog/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一过程"><a href="#一过程" class="headerlink" title="一过程"></a>一过程</h1><h2 id="1生成csv文件（在编译下目录里的1-、2、。。。里面每个用户一个）"><a href="#1生成csv文件（在编译下目录里的1-、2、。。。里面每个用户一个）" class="headerlink" title="1生成csv文件（在编译下目录里的1 、2、。。。里面每个用户一个）"></a>1生成csv文件（在编译下目录里的1 、2、。。。里面每个用户一个）</h2><p> 1.1拍照 ，生成temp文件夹放入拍照的图片<br> 1.2加载人脸识别特征器，裁剪生成样本（50*60），生成1文件夹<br> 1.3生成CSV文件给人脸编号<br> 1.4生成user文件（前面编号，后面人名）</p><h2 id="2采样图片灰度化处理"><a href="#2采样图片灰度化处理" class="headerlink" title="2采样图片灰度化处理"></a>2采样图片灰度化处理</h2><h2 id="3直方图均衡"><a href="#3直方图均衡" class="headerlink" title="3直方图均衡"></a>3直方图均衡</h2><h2 id="4训练：-图片给模型训练器生成facemodel-xml文件"><a href="#4训练：-图片给模型训练器生成facemodel-xml文件" class="headerlink" title="4训练： 图片给模型训练器生成facemodel.xml文件"></a>4训练： 图片给模型训练器生成facemodel.xml文件</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Ptr&lt;FaceRecognizer&gt; model = createEigenFaceRecognizer();</span><br><span class="line">model-&gt;train(images, labels);</span><br><span class="line">model-&gt;save(<span class="string">&quot;MyFacePCAModel.xml&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="5人脸识别"><a href="#5人脸识别" class="headerlink" title="5人脸识别"></a>5人脸识别</h2><p> 5.1打开摄像头采集数据<br> 5.2使用人脸特征级联器—检测到人脸（特征提取，圈主人脸）<br> 5.3加载刚才训练的模型，进行人脸识别<br>通过csv\user.txt—显示用户名</p><h1 id="二实现函数"><a href="#二实现函数" class="headerlink" title="二实现函数"></a>二实现函数</h1><h2 id="修改文件地址"><a href="#修改文件地址" class="headerlink" title="修改文件地址"></a>修改文件地址</h2><p>1.mainwidows.cpp 134行/home/lixiao/opencv/opencv-3.4.5需要改成自己装opencv的位置<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> face_Classifier_name = <span class="string">&quot;/home/lixiao/opencv/opencv-3.4.5/data/haarcascades_cuda/haarcascade_frontalface_alt.xml&quot;</span>;</span><br></pre></td></tr></table></figure><br>2.mainwidows.cpp 26行登录界面的背景图片地址<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPixmap <span class="title">logo</span><span class="params">(<span class="string">&quot;/home/lixiao/face/opencv.jpg&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure></p><h2 id="修改圈住人脸的地方-172行"><a href="#修改圈住人脸的地方-172行" class="headerlink" title="修改圈住人脸的地方 172行"></a>修改圈住人脸的地方 172行</h2><p>mainwidows.cpp 172行<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//imshow(&quot;face&quot;, face[i]);</span></span><br><span class="line">               <span class="keyword">if</span> (faces[i].height &gt; <span class="number">0</span> &amp;&amp; faces[i].width &gt; <span class="number">0</span>)</span><br><span class="line">               &#123;</span><br><span class="line">                   face = gray(faces[i]);</span><br><span class="line">                   cv::rectangle(frame, faces[i], cv::Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>, <span class="number">8</span>, <span class="number">0</span>);</span><br><span class="line">                   <span class="function">emit <span class="title">getQimage</span><span class="params">(frame)</span></span>;</span><br><span class="line">               &#125;</span><br></pre></td></tr></table></figure></p><h2 id="打印名字（显示识别结果"><a href="#打印名字（显示识别结果" class="headerlink" title="打印名字（显示识别结果)"></a>打印名字（显示识别结果)</h2><p>mainwidows.cpp 217行<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QStringList <span class="built_in">list</span> = line.split(<span class="string">&quot;;&quot;</span>);</span><br><span class="line">                ui-&gt;lineEdit_user-&gt;setText(<span class="built_in">list</span>[<span class="number">1</span>]);<span class="comment">//显示识别结果的名字</span></span><br></pre></td></tr></table></figure><br>图片显示名字<br>mainwidows.cpp 217行下加入putText()<br>    参数point—文字显示的位置<br>        Scalar—颜色<br>        2—线的粗细<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">putText(frame,<span class="built_in">list</span>[<span class="number">1</span>].toStdString(),Point(<span class="number">10</span>,<span class="number">50</span>),FONT_HERSHEY_SIMPLEX,<span class="number">2</span>,Scalar(<span class="number">128</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>,LINE_4);</span><br></pre></td></tr></table></figure></p><h2 id="绘制圆形"><a href="#绘制圆形" class="headerlink" title="绘制圆形"></a>绘制圆形</h2><p>方法<br>circle(img, center, radius, color, thickness, lineType, shift)<br>参数：<br>1、img:图像；<br>2、center：圆的中心。<br>3、radius：圆半径。<br>4、color：圆颜色或亮度（灰度图像）。<br>5、thickness：轮廓厚度。负值，填充。<br>6、lineType：线型。<br>7、shift：点坐标中小数位数的参数移位数。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">newimage = (<span class="number">500</span>, <span class="number">500</span>, <span class="number">3</span>)</span><br><span class="line">image = np.zeros(newimage, np.uint8)</span><br><span class="line">cv2.circle(image, (<span class="number">150</span>,<span class="number">150</span>), <span class="number">100</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">cv2.circle(image, (<span class="number">300</span>,<span class="number">150</span>), <span class="number">50</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">-1</span>)</span><br><span class="line">cv2.imshow(&#x27;circle&#x27;, image)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><br>源码资料<br>链接：<a href="https://pan.baidu.com/s/1TQj-rlDA4RUY0LOBurPoCQ?pwd=csn6">https://pan.baidu.com/s/1TQj-rlDA4RUY0LOBurPoCQ?pwd=csn6</a><br>提取码：csn6</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux</title>
      <link href="blog/linux/"/>
      <url>blog/linux/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1.命令问题</p><ul><li>1.<a href="https://www.jianshu.com/p/06f8b31a90e6">Linux sed在某一行前面、后面追加</a></li></ul><p>2.源码</p><ul><li>1.<a href="https://1541812541.github.io/linux-ros">ros自动创建文件脚本</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>工具</title>
      <link href="blog/tools/"/>
      <url>blog/tools/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>1.学习类</p><ul><li>1.<a href="https://markdown.com.cn">Markdown语法</a></li><li>2.<a href="https://www.ldoceonline.com/">朗文词典</a></li><li>3.<a href="https://www.macmillandictionary.com/">麦克米伦词典</a></li><li>4.<a href="https://www.qtool.net/colorsize">颜色转换工具</a></li><li>5.<a href="https://airmore.cn/video-to-gif-online">在线视频转gif工具</a></li><li>6.<a href="https://imgtu.com">图床</a></li></ul><p>2.娱乐类</p><ul><li>1.<a href="https://www.4399.com/flash/112689.htm#search3-e5f8">皇城突袭无敌版</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>视频网址</title>
      <link href="blog/videos/"/>
      <url>blog/videos/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>视频网址</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>测试页面</title>
      <link href="blog/done/"/>
      <url>blog/done/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h1><p>如果你看到此页面，说明你已成功运行并部署此网站。</p><p><img src="1.jpg" alt=""></p><p>你可以查看，以下文档进行自定义设置。</p><blockquote><p>网站修改配置文档：</p></blockquote><a class="btn-beautify button--animated " href="https://guguge.gitee.io/blog/butterfly"   title="链接1"><i class="fas fa-download"></i><span>链接1</span></a><a class="btn-beautify button--animated " href="https://guguge.top/blog/butterfly"   title="链接2"><i class="fas fa-download"></i><span>链接2</span></a><hr><blockquote><p>文章书写格式参考文档：</p></blockquote><a class="btn-beautify button--animated " href="https://guguge.gitee.io/blog/markdown"   title="链接1"><i class="fas fa-download"></i><span>链接1</span></a><a class="btn-beautify button--animated " href="https://guguge.top/blog/markdown"   title="链接2"><i class="fas fa-download"></i><span>链接2</span></a>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
